---
phase: 01-specification
plan: 05
type: execute
---

<objective>
Document Steps 12-14 (Stress Scenarios, Forward Windows, Multi-Pair) - the post-analysis phase.

Purpose: Create complete specifications for stress testing, forward analysis, and multi-symbol expansion.
Output: 3 spec files (steps 12, 13, 14) in `.planning/phases/01-specification/specs/`
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-specification/01-CONTEXT.md
@.planning/phases/01-specification/01-04-SUMMARY.md

**Source files to analyze:**
@engine/runner.py (steps 12, 13, 14 implementations)
@modules/stress_scenarios.py (stress testing)
@settings.py (stress configuration, multi-pair settings)

**Reference:**
@CLAUDE.md (Stress Scenarios section)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Document Step 12 (Stress Scenarios)</name>
  <files>.planning/phases/01-specification/specs/step-12-stress-scenarios.md</files>
  <action>Document the stress testing step (most complex post-step):

  **From runner.py:**
  - Read `_step_stress_scenarios()` method
  - Read `run_step12_only()` for standalone execution

  **From modules/stress_scenarios.py:**
  - Document the dynamic test suite
  - Document test matrix generation

  **Window types (from settings.py):**
  - Rolling days: STRESS_WINDOW_ROLLING_DAYS (7/14/30/60/90)
  - Calendar months: STRESS_WINDOW_CALENDAR_MONTHS_AGO (1/2/3 months ago)
  - Document how windows are anchored to workflow end date

  **Model types:**
  - OHLC (1 minute)
  - Tick (model 0)
  - Document STRESS_WINDOW_MODELS setting

  **Tick-only variants:**
  - Document STRESS_TICK_LATENCY_MS settings
  - Document tick file coverage check

  **Overlay calculations:**
  - Document STRESS_INCLUDE_OVERLAYS
  - Document spread/slippage overlay computation (post-hoc from trades)

  **Output:**
  - Document stress results structure
  - Document how results appear in dashboard
  - Document the Stress column in Leaderboard</action>
  <verify>Spec includes: window types, model types, overlays, tick validation</verify>
  <done>Step 12 fully documented</done>
</task>

<task type="auto">
  <name>Task 2: Document Step 13 (Forward Windows)</name>
  <files>.planning/phases/01-specification/specs/step-13-forward-windows.md</files>
  <action>Document the forward window analysis:

  **From runner.py:**
  - Read `_step_forward_windows()` method
  - Document purpose: analyze performance in time slices

  **Forward window logic:**
  - Document how windows are sliced from best-pass trade list
  - Document window sizes and boundaries
  - Document what metrics are computed per window

  **Output:**
  - Document forward window results structure
  - Document how results appear in dashboard (forward table)

  This step is relatively simple compared to Step 12 - ensure completeness.</action>
  <verify>Spec includes: window slicing logic, metrics computed, dashboard display</verify>
  <done>Step 13 fully documented</done>
</task>

<task type="auto">
  <name>Task 3: Document Step 14 (Multi-Pair)</name>
  <files>.planning/phases/01-specification/specs/step-14-multi-pair.md</files>
  <action>Document the multi-symbol expansion:

  **From runner.py:**
  - Read `_step_multi_pair()` method
  - Read `run_step14_only()` for standalone execution

  **Multi-pair logic:**
  - Document how the same EA is run on additional symbols
  - Document that optimization is run per symbol (not just backtest)
  - Document symbol list configuration

  **Behavior:**
  - Document that this is optional (AUTO_RUN_MULTI_PAIR setting)
  - Document parent/child workflow relationship
  - Document how results aggregate

  **Output:**
  - Document multi-pair results structure
  - Document how results appear in dashboard/leaderboard

  This step creates "child" workflows - document the relationship clearly.</action>
  <verify>Spec includes: per-symbol optimization, parent/child relationship, optional execution</verify>
  <done>Step 14 fully documented</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All 3 spec files exist
- [ ] Stress scenario matrix fully documented
- [ ] Forward window slicing logic documented
- [ ] Multi-pair parent/child relationship documented
- [ ] All settings references included
</verification>

<success_criteria>

- Steps 12, 13, 14 fully documented
- Step 12 stress matrix completely specified
- Optional execution flags documented (AUTO_RUN_*)
- All post-step behaviors captured
- Phase 1 specification complete
  </success_criteria>

<output>
After completion, create `.planning/phases/01-specification/01-05-SUMMARY.md`:

---
phase: 01-specification
plan: 05
subsystem: specification
requires: [step-9-spec, step-10-spec, step-11-spec]
provides: [step-12-spec, step-13-spec, step-14-spec]
affects: [02-core-domain, 05-remaining-stages]
key-decisions: []
key-files: [.planning/phases/01-specification/specs/step-12-stress-scenarios.md, .planning/phases/01-specification/specs/step-14-multi-pair.md]
---

# Phase 01-specification Plan 05: Post-Analysis Steps Summary

**[One-liner summary]**

## Accomplishments

- [Key outcomes]

## Files Created/Modified

- [List of spec files]

## Decisions Made

[Or "None"]

## Issues Encountered

[Or "None"]

## Next Phase Readiness

Phase 1 (Specification) complete. All 14 workflow steps documented.

Ready for Phase 2 (Core Domain) - building pure Python domain models based on these specifications.
</output>
